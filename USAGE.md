# 使用指南

## 快速开始（Web 版）

```bash
pip install -r requirements.txt
streamlit run app.py
```

浏览器会自动打开网页（或在地址栏访问 `http://localhost:8501`），按照左侧提示选择股票、时间范围和策略即可。

## 股票代码格式

- **美股**：`AAPL`（苹果）、`TSLA`（特斯拉）、`MSFT`（微软）
- **港股**：`0700.HK`（腾讯）、`9988.HK`（阿里巴巴）
- **A股**：`000001.SZ`（平安银行，深圳）、`600000.SS`（浦发银行，上海）

## 策略说明（网页中可选择）

### 策略 1：均线策略

- **原理**：用两条均线（短期 vs 长期）判断趋势  
  - 短期均线上穿长期均线时买入  
  - 短期均线下穿长期均线时卖出
- **参数**：
  - 短期均线天数（默认 5）
  - 长期均线天数（默认 30）

### 策略 2：均线 + RSI

- **原理**：在策略 1 的基础上，加一个“热度指标 RSI”，避免在过热区域买入  
  - 只有在“趋势向上”且 RSI 不太高时才考虑买入  
  - 在趋势反转或 RSI 过高时卖出

### 策略 3：MACD + 成交量

- **原理**：用 MACD 看“趋势是否在加速”，用成交量看“有没有真金白银在推”  
  - 买入：MACD 金叉 + 成交量放大  
  - 卖出：MACD 死叉 或 MACD 柱状图转负

## 结果说明

回测结果包含：

- **总收益率**：整个回测期间的收益率
- **年化收益率**：换算成年化的收益率
- **最大回撤**：最坏情况下的亏损
- **夏普比率**：风险调整后的收益指标（越高越好）
- **交易次数**：回测期间的买卖次数
- **超额收益**：相比买入持有策略的额外收益

## 常见问题

### Q: 为什么下载数据失败？

A: 需要网络连接。如果失败，请检查：
1. 网络连接是否正常
2. 股票代码格式是否正确
3. 日期范围是否合理

### Q: 图表中文显示乱码？

A: 网页版图表使用 Plotly，中文显示正常；如导出 PNG 失败，通常是依赖缺失或环境限制，可换浏览器/刷新重试。

### Q: 可以测试中国股票吗？

A: 可以！使用正确的代码格式：
- A股：`000001.SZ` 或 `600000.SS`
- 港股：`0700.HK`

### Q: 如何添加新策略？

A: 参考 `strategies/strategy_1.py`，创建新策略文件，然后在 `app.py` 中加入策略选项即可。

## 注意事项

- 回测结果不代表未来表现
- 不构成投资建议
- 实盘交易有风险
